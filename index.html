<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FeelMeter (‡¶´‡¶ø‡¶≤‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <style>
      body {
        font-family: 'Hind Siliguri', 'Poppins', sans-serif;
      }
      .font-poppins {
        font-family: 'Poppins', sans-serif;
      }
    </style>

    <!-- Import Map for JavaScript Libraries -->
    <script type="importmap">
    {
      "imports": {
        "framer-motion": "https://esm.sh/framer-motion@11.2.1?deps=react@18.2.0",
        "react-router-dom": "https://esm.sh/react-router-dom@6.23.1?deps=react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "react-dom/": "https://esm.sh/react-dom@18.2.0/",
        "recharts": "https://esm.sh/recharts@2.12.7?deps=react@18.2.0,react-dom@18.2.0",
        "react/jsx-runtime": "https://esm.sh/react@18.2.0/jsx-runtime",
        "react/": "https://esm.sh/react@18.2.0/",
        "react": "https://esm.sh/react@18.2.0",
        "react-icons/fa6": "https://esm.sh/react-icons@5.2.1/fa6?deps=react@18.2.0",
        "react-confetti": "https://esm.sh/react-confetti@6.1.0?deps=react@18.2.0,react-dom@18.2.0"
      }
    }
    </script>
    
    <!-- Babel for in-browser JSX/TSX transpilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-white text-gray-800">
    <div id="root"></div>

    <!-- All React Application Code -->
    <script type="text/babel" data-presets="react,typescript" data-type="module">
      import React, { useState, useEffect, useRef, StrictMode } from 'react';
      import ReactDOM from 'react-dom/client';
      import { HashRouter, Routes, Route, NavLink, Link, useLocation } from 'react-router-dom';
      import { motion, AnimatePresence, useScroll, useTransform } from 'framer-motion';
      import { BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer, Cell } from 'recharts';
      import Confetti from 'react-confetti';
      import {
        FaFacebook, FaTwitter, FaInstagram, FaHeart, FaUserGroup, FaBed,
        FaFaceSmile, FaShareNodes, FaArrowRotateRight, FaPlus, FaTrash,
        FaPencil, FaArrowRightFromBracket
      } from 'react-icons/fa6';

      // ============= TYPES =============
      // These are TypeScript interfaces and enums for type safety.
      // Babel will strip them out during transpilation.
      
      interface PollOption {
        text: string;
        votes: number;
      }

      interface Poll {
        id: string;
        title: string;
        description?: string;
        options: PollOption[];
        category: string;
        createdAt: number;
        duration: number; 
      }

      interface MeterQuestion {
        question: string;
        options: string[];
        type: 'radio' | 'slider';
      }

      enum MeterCategory {
        Love = "‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ",
        Friendship = "‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶§‡ßç‡¶¨",
        Laziness = "‡¶Ö‡¶≤‡¶∏‡¶§‡¶æ",
        Mood = "‡¶Æ‡ßÅ‡¶°",
        Maturity = "‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ö‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø",
        Frustration = "‡¶π‡¶§‡¶æ‡¶∂‡¶æ‡¶∞ ‡¶≤‡ßá‡¶¨‡ßá‡¶≤",
        Foodie = "‡¶ñ‡¶æ‡¶¶‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡ßá‡¶Æ‡¶ø‡¶ï",
        Intelligence = "‡¶¨‡ßÅ‡¶¶‡ßç‡¶ß‡¶ø‡¶Æ‡¶§‡ßç‡¶§‡¶æ ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞",
        Creativity = "‡¶∏‡ßÉ‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤‡¶§‡¶æ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞"
      }

      // ============= HOOKS =============

      function useLocalStorage<T>(key: string, initialValue: T) {
        const [storedValue, setStoredValue] = useState<T>(() => {
          try {
            const item = window.localStorage.getItem(key);
            return item ? JSON.parse(item) : initialValue;
          } catch (error) {
            console.log(error);
            return initialValue;
          }
        });

        const setValue = (value: T | ((val: T) => T)) => {
          try {
            const valueToStore = value instanceof Function ? value(storedValue) : value;
            setStoredValue(valueToStore);
            window.localStorage.setItem(key, JSON.stringify(valueToStore));
          } catch (error) {
            console.log(error);
          }
        };
        
        useEffect(() => {
          const handleStorageChange = (e: StorageEvent) => {
            if (e.key === key) {
              try {
                setStoredValue(e.newValue ? JSON.parse(e.newValue) : initialValue);
              } catch (error) {
                console.log(error);
              }
            }
          };
          window.addEventListener('storage', handleStorageChange);
          return () => {
            window.removeEventListener('storage', handleStorageChange);
          };
        }, [key, initialValue]);

        return [storedValue, setValue] as const;
      }

      // ============= COMPONENTS =============

      const Header: React.FC = () => {
        const activeLinkClass = "text-transparent bg-clip-text bg-gradient-to-r from-[#FF6B81] to-[#6C63FF] font-bold";
        const inactiveLinkClass = "hover:text-[#FF6B81] transition-colors duration-300";

        return (
          <header className="sticky top-0 z-50 bg-white/80 backdrop-blur-md shadow-sm">
            <div className="container mx-auto px-6 py-4 flex justify-between items-center">
              <NavLink to="/" className="text-3xl font-bold text-gray-800 font-poppins">
                Feel<span className="text-[#FF6B81]">Meter</span> <span className="text-xl">‡¶´‡¶ø‡¶≤‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞</span>
              </NavLink>
              <nav className="hidden md:flex items-center space-x-8 text-lg font-semibold">
                <NavLink to="/" className={({ isActive }) => (isActive ? activeLinkClass : inactiveLinkClass)}>‡¶π‡ßã‡¶Æ</NavLink>
                <NavLink to="/calculate" className={({ isActive }) => (isActive ? activeLinkClass : inactiveLinkClass)}>‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®</NavLink>
                <NavLink to="/poll" className={({ isActive }) => (isActive ? activeLinkClass : inactiveLinkClass)}>‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡¶®</NavLink>
              </nav>
            </div>
          </header>
        );
      };

      const Footer: React.FC = () => {
        return (
          <footer className="bg-white/50 border-t border-gray-200 mt-16">
            <div className="container mx-auto px-6 py-8 text-center text-gray-600">
              <p className="mb-4">¬© {new Date().getFullYear()} ‡¶´‡¶ø‡¶≤‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞‡•§ ‡¶∏‡¶∞‡ßç‡¶¨‡¶∏‡ßç‡¶¨‡¶§‡ßç‡¶¨ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§‡•§</p>
              <div className="flex justify-center space-x-6">
                <a href="#" className="hover:text-[#FF6B81] transition-colors"><FaFacebook size={24} /></a>
                <a href="#" className="hover:text-[#FF6B81] transition-colors"><FaTwitter size={24} /></a>
                <a href="#" className="hover:text-[#FF6B81] transition-colors"><FaInstagram size={24} /></a>
              </div>
              <div className="mt-6 pt-6 border-t border-gray-200/50">
                <Link to="/admin" className="text-sm text-gray-500 hover:text-gray-800 hover:underline transition-colors">
                  ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶á‡¶®
                </Link>
              </div>
            </div>
          </footer>
        );
      };

      // ============= PAGES =============

      const HomePage: React.FC = () => {
        const [polls] = useLocalStorage<Poll[]>('polls', []);

        const heroRef = useRef<HTMLDivElement>(null);
        const { scrollYProgress } = useScroll({
          target: heroRef,
          offset: ["start start", "end start"]
        });
        const backgroundY = useTransform(scrollYProgress, [0, 1], ["0%", "50%"]);

        const featuredCategories = [
          { name: "‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞", icon: <FaHeart className="text-5xl text-red-400" />, link: "/calculate?category=‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ" },
          { name: "‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶§‡ßç‡¶¨‡ßá‡¶∞ ‡¶∏‡ßç‡¶ï‡ßá‡¶≤", icon: <FaUserGroup className="text-5xl text-blue-400" />, link: "/calculate?category=‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶§‡ßç‡¶¨" },
          { name: "‡¶Æ‡ßÅ‡¶° ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞", icon: <FaFaceSmile className="text-5xl text-yellow-400" />, link: "/calculate?category=‡¶Æ‡ßÅ‡¶°" },
          { name: "‡¶Ö‡¶≤‡¶∏‡¶§‡¶æ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞", icon: <FaBed className="text-5xl text-purple-400" />, link: "/calculate?category=‡¶Ö‡¶≤‡¶∏‡¶§‡¶æ" },
        ];
        
        const heroContainerVariants = {
          hidden: { opacity: 0 },
          visible: {
            opacity: 1,
            transition: { staggerChildren: 0.2, delayChildren: 0.3 },
          },
        };

        const heroItemVariants = {
          hidden: { y: 20, opacity: 0 },
          visible: {
            y: 0,
            opacity: 1,
            transition: { duration: 0.6, ease: "easeOut" }
          },
        };

        const categoryContainerVariants = {
          hidden: { opacity: 0 },
          visible: {
            opacity: 1,
            transition: { staggerChildren: 0.15 },
          },
        };

        const categoryCardVariants = {
          hidden: { opacity: 0, y: 50, filter: 'blur(10px)' },
          visible: { 
            opacity: 1, 
            y: 0, 
            filter: 'blur(0px)',
            transition: { duration: 0.6, ease: "easeOut" }
          },
        };

        return (
          <div className="space-y-20 md:space-y-32">
            {/* Hero Section */}
            <section ref={heroRef} className="relative text-center py-20 md:py-32 px-4 overflow-hidden">
              <motion.div 
                style={{ y: backgroundY }}
                className="absolute inset-0 bg-gradient-to-r from-[#FF6B81]/20 via-[#FFB6C1]/20 to-[#6C63FF]/20 animate-[pulse_8s_ease-in-out_infinite] blur-3xl"
              ></motion.div>
              <motion.div 
                variants={heroContainerVariants}
                initial="hidden"
                animate="visible"
                className="relative z-10"
              >
                <motion.h1 variants={heroItemVariants} className="text-4xl md:text-6xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-gray-800 to-gray-600">
                  ‡¶´‡¶ø‡¶≤‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞, ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ö‡¶®‡ßÅ‡¶≠‡ßÇ‡¶§‡¶ø ‡¶Æ‡¶æ‡¶™‡¶æ ‡¶Ø‡¶æ‡ßü!
                </motion.h1>
                <motion.p variants={heroItemVariants} className="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto mb-8">
                  ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ, ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶§‡ßç‡¶¨, ‡¶Æ‡ßÅ‡¶° ‡¶ï‡¶ø‡¶Ç‡¶¨‡¶æ ‡¶Ö‡¶≤‡¶∏‡¶§‡¶æ - ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ‡¶∞‡¶á ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶™ ‡¶Ü‡¶õ‡ßá ‡¶è‡¶ñ‡¶æ‡¶®‡ßá! ‡¶Ø‡¶æ ‡¶Æ‡¶æ‡¶™‡ßá ‡¶®‡¶æ ‡¶Æ‡¶®, ‡¶§‡¶æ ‡¶Æ‡¶æ‡¶™‡ßá ‡¶´‡¶ø‡¶≤‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞!
                </motion.p>
                <motion.div variants={heroItemVariants}>
                  <Link to="/calculate">
                    <motion.button 
                      whileHover={{ scale: 1.05, boxShadow: "0px 0px 20px rgba(255, 107, 129, 0.7)" }}
                      whileTap={{ scale: 0.95 }}
                      className="px-8 py-4 bg-gradient-to-r from-[#FF6B81] to-[#FFB6C1] text-white font-bold text-lg rounded-full shadow-lg transition-all duration-300"
                    >
                      ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </motion.button>
                  </Link>
                </motion.div>
              </motion.div>
            </section>

            {/* Featured Categories */}
            <section className="container mx-auto px-6">
              <h2 className="text-3xl md:text-4xl font-bold text-center mb-12">‡¶ï‡ßÄ ‡¶Æ‡¶æ‡¶™‡¶§‡ßá ‡¶ö‡¶æ‡¶®?</h2>
              <motion.div 
                variants={categoryContainerVariants}
                initial="hidden"
                whileInView="visible"
                viewport={{ once: true, amount: 0.2 }}
                className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                {featuredCategories.map((cat) => (
                  <motion.div
                    key={cat.name}
                    variants={categoryCardVariants}
                    whileHover={{ y: -8, boxShadow: "0px 10px 25px rgba(108, 99, 255, 0.15)" }}
                    transition={{ duration: 0.3 }}
                  >
                    <Link to={cat.link} className="block p-8 bg-white rounded-2xl shadow-lg h-full text-center group">
                      <div className="flex justify-center mb-4 transition-transform duration-300 group-hover:scale-110">
                        {cat.icon}
                      </div>
                      <h3 className="text-xl font-semibold text-gray-800">{cat.name}</h3>
                    </Link>
                  </motion.div>
                ))}
              </motion.div>
            </section>
            
            {/* Poll Preview */}
            {polls.length > 0 && (
              <section className="container mx-auto px-6">
                <h2 className="text-3xl md:text-4xl font-bold text-center mb-12">üó≥Ô∏è ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶≠‡ßã‡¶ü</h2>
                <div className="max-w-3xl mx-auto space-y-6">
                  {polls.slice(0, 3).map(poll => (
                    <motion.div
                      key={poll.id}
                      initial={{ opacity: 0, x: -50 }}
                      whileInView={{ opacity: 1, x: 0 }}
                      viewport={{ once: true }}
                      transition={{ duration: 0.5 }}
                      className="bg-white p-6 rounded-xl shadow-md flex justify-between items-center"
                    >
                      <div>
                        <h3 className="text-xl font-semibold text-gray-800">{poll.title}</h3>
                        <p className="text-gray-500">{poll.category}</p>
                      </div>
                      <Link to="/poll">
                        <motion.button
                          whileHover={{ scale: 1.05, boxShadow: "0px 0px 15px rgba(108, 99, 255, 0.6)" }}
                          className="px-6 py-2 bg-[#6C63FF] text-white font-semibold rounded-full shadow-md hover:bg-opacity-90 transition-all"
                        >
                          ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡¶®
                        </motion.button>
                      </Link>
                    </motion.div>
                  ))}
                </div>
              </section>
            )}
          </div>
        );
      };
      
      const CalculatePage: React.FC = () => {
        const location = useLocation();
        const queryParams = new URLSearchParams(location.search);
        const initialCategory = (queryParams.get('category') as MeterCategory) || '';
        
        const [selectedCategory, setSelectedCategory] = useState<MeterCategory | ''>(initialCategory);
        const [names, setNames] = useState({ name1: '', name2: '' });
        const [answers, setAnswers] = useState<number[]>([]);
        const [result, setResult] = useState<number | null>(null);

        const questionsData: Record<MeterCategory, MeterQuestion[]> = {
          [MeterCategory.Love]: [
            { question: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞‡¶æ ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶§‡¶ü‡¶æ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶ï‡¶æ‡¶ü‡¶æ‡¶®?", options: ["‡¶ñ‡ßÅ‡¶¨ ‡¶ï‡¶Æ", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶Ö‡¶®‡ßá‡¶ï"], type: 'radio' },
            { question: "‡¶õ‡ßã‡¶ü ‡¶õ‡ßã‡¶ü ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º‡ßá ‡¶ï‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞‡¶æ ‡¶ù‡¶ó‡ßú‡¶æ ‡¶ï‡¶∞‡ßá‡¶®?", options: ["‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶™‡ßç‡¶∞‡¶æ‡ßü‡¶á", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶®‡¶æ, ‡¶ï‡¶∞‡¶ø ‡¶®‡¶æ"], type: 'radio' },
            { question: "‡¶è‡¶ï‡ßá ‡¶Ö‡¶™‡¶∞‡¶ï‡ßá ‡¶ï‡¶§‡¶ü‡¶æ ‡¶¨‡ßã‡¶ù‡ßá‡¶®?", options: ["‡¶è‡¶ï‡¶¶‡¶Æ‡¶á ‡¶®‡¶æ", "‡¶Æ‡ßã‡¶ü‡¶æ‡¶Æ‡ßÅ‡¶ü‡¶ø", "‡¶ñ‡ßÅ‡¶¨ ‡¶≠‡¶æ‡¶≤‡ßã"], type: 'radio' },
          ],
          [MeterCategory.Friendship]: [
            { question: "‡¶¨‡¶ø‡¶™‡¶¶‡ßá ‡¶™‡ßú‡¶≤‡ßá ‡¶ï‡¶æ‡¶ï‡ßá ‡¶Ü‡¶ó‡ßá ‡¶´‡ßã‡¶® ‡¶¶‡ßá‡¶®?", options: ["‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡¶ï‡ßá", "‡¶è‡¶á ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶ï‡ßá", "‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡¶æ‡¶â‡¶ï‡ßá"], type: 'radio' },
            { question: "‡¶Ü‡¶™‡¶®‡¶æ‡¶¶‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶ó‡ßã‡¶™‡¶® ‡¶ï‡¶•‡¶æ ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶π‡ßü?", options: ["‡¶®‡¶æ, ‡¶π‡ßü ‡¶®‡¶æ", "‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶ï‡¶ø‡¶õ‡ßÅ", "‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ"], type: 'radio' },
            { question: "‡¶ï‡¶§‡¶¶‡¶ø‡¶® ‡¶ï‡¶•‡¶æ ‡¶®‡¶æ ‡¶¨‡¶≤‡ßá ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®?", options: ["‡¶è‡¶ï ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π", "‡¶è‡¶ï ‡¶Æ‡¶æ‡¶∏", "‡¶è‡¶ï ‡¶¨‡¶õ‡¶∞"], type: 'radio' },
          ],
          [MeterCategory.Laziness]: [
            { question: "‡¶∏‡¶ï‡¶æ‡¶≤‡ßá ‡¶ò‡ßÅ‡¶Æ ‡¶•‡ßá‡¶ï‡ßá ‡¶â‡¶†‡¶§‡ßá ‡¶ï‡ßá‡¶Æ‡¶® ‡¶≤‡¶æ‡¶ó‡ßá?", options: ["‡¶ñ‡ßÅ‡¶¨ ‡¶ï‡¶∑‡ßç‡¶ü", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶∏‡¶π‡¶ú"], type: 'radio' },
            { question: "‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶ø ‡¶ï‡¶æ‡¶≤‡¶ï‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∞‡¶æ‡¶ñ‡ßá‡¶®?", options: ["‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶ï‡¶ñ‡¶®‡ßã‡¶á ‡¶®‡¶æ"], type: 'radio' },
            { question: "‡¶¨‡¶ø‡¶õ‡¶æ‡¶®‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶â‡¶†‡¶§‡ßá ‡¶ï‡¶§‡¶ï‡ßç‡¶∑‡¶£ ‡¶≤‡¶æ‡¶ó‡ßá?", options: ["‡ß©‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ ‡¶¨‡ßá‡¶∂‡¶ø", "‡ßß‡ß¶-‡ß®‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü", "‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ ‡¶ï‡¶Æ"], type: 'radio' },
          ],
          [MeterCategory.Mood]: [
            { question: "‡¶Ü‡¶ú ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®‡¶ü‡¶æ ‡¶ï‡ßá‡¶Æ‡¶® ‡¶Ø‡¶æ‡¶ö‡ßç‡¶õ‡ßá?", options: ["‡¶ñ‡ßÅ‡¶¨ ‡¶ñ‡¶æ‡¶∞‡¶æ‡¶™", "‡¶Æ‡ßã‡¶ü‡¶æ‡¶Æ‡ßÅ‡¶ü‡¶ø", "‡¶ö‡¶Æ‡ßé‡¶ï‡¶æ‡¶∞"], type: 'radio' },
            { question: "‡¶õ‡ßã‡¶ü ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º‡ßá ‡¶ï‡¶ø ‡¶Æ‡ßá‡¶ú‡¶æ‡¶ú ‡¶ñ‡¶æ‡¶∞‡¶æ‡¶™ ‡¶π‡¶Ø‡¶º?", options: ["‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶™‡ßç‡¶∞‡¶æ‡¶Ø‡¶º‡¶á", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶®‡¶æ"], type: 'radio' },
            { question: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶ø ‡¶è‡¶ñ‡¶® ‡¶ó‡¶æ‡¶® ‡¶∂‡ßÅ‡¶®‡¶§‡ßá ‡¶á‡¶ö‡ßç‡¶õ‡¶æ ‡¶ï‡¶∞‡¶õ‡ßá?", options: ["‡¶π‡ßç‡¶Ø‡¶æ‡¶Å", "‡¶®‡¶æ", "‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¨‡¶≤‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶õ‡¶ø ‡¶®‡¶æ"], type: 'radio' },
          ],
          [MeterCategory.Maturity]: [
            { question: "‡¶∏‡¶Æ‡¶æ‡¶≤‡ßã‡¶ö‡¶®‡¶æ ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡ßá‡¶®?", options: ["‡¶ñ‡ßÅ‡¶¨ ‡¶∞‡ßá‡¶ó‡ßá ‡¶Ø‡¶æ‡¶á", "‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ü‡¶æ ‡¶ñ‡¶æ‡¶∞‡¶æ‡¶™ ‡¶≤‡¶æ‡¶ó‡ßá", "‡¶≠‡ßÅ‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡¶ø‡¶ñ‡¶ø"], type: 'radio' },
            { question: "‡¶Ü‡¶¨‡ßá‡¶ó ‡¶¶‡¶ø‡ßü‡ßá ‡¶∏‡¶ø‡¶¶‡ßç‡¶ß‡¶æ‡¶®‡ßç‡¶§ ‡¶®‡ßá‡¶® ‡¶®‡¶æ‡¶ï‡¶ø ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø ‡¶¶‡¶ø‡ßü‡ßá?", options: ["‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ü‡¶¨‡ßá‡¶ó", "‡¶¶‡ßÅ‡¶ü‡ßã‡¶á", "‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø"], type: 'radio' },
            { question: "‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡ßé ‡¶®‡¶ø‡ßü‡ßá ‡¶ï‡¶ø ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶ø‡¶§?", options: ["‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶™‡¶∞‡¶ø‡¶ï‡¶≤‡ßç‡¶™‡¶®‡¶æ ‡¶ï‡¶∞‡ßá ‡¶ö‡¶≤‡¶ø"], type: 'radio' },
          ],
          [MeterCategory.Frustration]: [
            { question: "‡¶õ‡ßã‡¶ü‡¶ñ‡¶æ‡¶ü‡ßã ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º‡ßá ‡¶ï‡¶ø ‡¶π‡¶§‡¶æ‡¶∂ ‡¶π‡¶®?", options: ["‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶∏‡¶¨‡¶∏‡¶Æ‡¶Ø‡¶º", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶®‡¶æ, ‡¶π‡¶á ‡¶®‡¶æ"], type: 'radio' },
            { question: "‡¶Æ‡¶®‡ßá ‡¶π‡¶Ø‡¶º ‡¶ï‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶á ‡¶≠‡¶æ‡¶≤‡ßã ‡¶π‡¶Ø‡¶º ‡¶®‡¶æ?", options: ["‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶™‡ßç‡¶∞‡¶æ‡¶Ø‡¶º‡¶á", "‡¶ï‡¶ñ‡¶®‡ßã ‡¶ï‡¶ñ‡¶®‡ßã", "‡¶®‡¶æ, ‡¶Æ‡¶®‡ßá ‡¶π‡¶Ø‡¶º ‡¶®‡¶æ"], type: 'radio' },
            { question: "‡¶ï‡¶§‡¶ü‡¶æ ‡¶è‡¶ï‡¶æ ‡¶≤‡¶æ‡¶ó‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞?", options: ["‡¶ñ‡ßÅ‡¶¨ ‡¶¨‡ßá‡¶∂‡¶ø", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶≤‡¶æ‡¶ó‡ßá ‡¶®‡¶æ"], type: 'radio' },
          ],
          [MeterCategory.Foodie]: [
            { question: "‡¶®‡¶§‡ßÅ‡¶® ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ï‡ßá‡¶Æ‡¶® ‡¶≤‡¶æ‡¶ó‡ßá?", options: ["‡¶≠‡¶Ø‡¶º ‡¶≤‡¶æ‡¶ó‡ßá", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶ñ‡ßÅ‡¶¨ ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶ø"], type: 'radio' },
            { question: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶ø ‡¶™‡ßç‡¶∞‡¶æ‡¶Ø‡¶º‡¶á ‡¶ï‡ßç‡¶∑‡ßÅ‡¶ß‡¶æ ‡¶≤‡¶æ‡¶ó‡ßá?", options: ["‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶∏‡¶¨‡¶∏‡¶Æ‡¶Ø‡¶º", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶®‡¶æ"], type: 'radio' },
            { question: "ÎßõÏßë ‡¶¶‡ßá‡¶ñ‡¶≤‡ßá‡¶á ‡¶ï‡¶ø ‡¶ñ‡ßá‡¶§‡ßá ‡¶á‡¶ö‡ßç‡¶õ‡¶æ ‡¶ï‡¶∞‡ßá?", options: ["‡¶π‡ßç‡¶Ø‡¶æ‡¶Å!", "‡¶®‡¶æ", "‡¶ï‡¶ñ‡¶®‡ßã ‡¶ï‡¶ñ‡¶®‡ßã"], type: 'radio' },
          ],
          [MeterCategory.Intelligence]: [
            { question: "‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡¶†‡¶ø‡¶® ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßá‡¶Æ‡¶® ‡¶≤‡¶æ‡¶ó‡ßá?", options: ["‡¶¨‡¶ø‡¶∞‡¶ï‡ßç‡¶§ ‡¶≤‡¶æ‡¶ó‡ßá", "‡¶ö‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶û‡ßç‡¶ú‡¶ø‡¶Ç", "‡¶ñ‡ßÅ‡¶¨ ‡¶Æ‡¶ú‡¶æ ‡¶™‡¶æ‡¶á"], type: 'radio' },
            { question: "‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶∂‡¶ø‡¶ñ‡¶§‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡ßá‡¶Æ‡¶®?", options: ["‡¶ñ‡ßÅ‡¶¨ ‡¶ï‡¶Æ", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶Ö‡¶®‡ßá‡¶ï ‡¶¨‡ßá‡¶∂‡¶ø"], type: 'radio' },
            { question: "‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶™‡ßç‡¶∞‡¶æ‡¶Ø‡¶º‡¶á ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶ï‡¶∞‡ßá‡¶® '‡¶ï‡ßá‡¶®' ‡¶¨‡¶æ '‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá'?", options: ["‡¶®‡¶æ", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü"], type: 'radio' },
          ],
          [MeterCategory.Creativity]: [
            { question: "‡¶è‡¶ï‡¶ü‡¶ø ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶ï‡¶æ‡¶ó‡¶ú ‡¶¶‡ßá‡¶ñ‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßÄ ‡¶ï‡¶∞‡¶§‡ßá ‡¶á‡¶ö‡ßç‡¶õ‡ßá ‡¶ï‡¶∞‡ßá?", options: ["‡¶ï‡¶ø‡¶õ‡ßÅ‡¶á ‡¶®‡¶æ", "‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶≤‡¶ø‡¶ñ‡¶§‡ßá", "‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶Å‡¶ï‡¶§‡ßá"], type: 'radio' },
            { question: "‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶ó‡¶§‡¶æ‡¶®‡ßÅ‡¶ó‡¶§‡¶ø‡¶ï ‡¶ß‡¶æ‡¶∞‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶á‡¶∞‡ßá ‡¶≠‡¶æ‡¶¨‡¶§‡ßá ‡¶™‡¶õ‡¶®‡ßç‡¶¶ ‡¶ï‡¶∞‡ßá‡¶®?", options: ["‡¶®‡¶æ", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü"], type: 'radio' },
            { question: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶ø ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶¨‡ßá‡¶≤‡¶æ‡ßü ‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶Ö‡¶≠‡ßç‡¶Ø‡¶æ‡¶∏ ‡¶Ü‡¶õ‡ßá?", options: ["‡¶®‡¶æ", "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá", "‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶™‡ßç‡¶∞‡¶æ‡ßü‡¶á"], type: 'radio' },
          ]
        };

        const resultTexts: Record<MeterCategory, (score: number) => string> = {
            [MeterCategory.Love]: score => `‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞‡¶æ: ${score}%! ü•∞ ${score > 80 ? '‡¶è‡¶ü‡¶æ ‡¶è‡¶ï‡ßá‡¶¨‡¶æ‡¶∞‡ßá ‡¶™‡ßç‡¶∞‡ßá‡¶Æ‡¶ø‡¶ï-‡¶≤‡ßá‡¶≠‡ßá‡¶≤ ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ!' : (score > 50 ? '‡¶Ü‡¶™‡¶®‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï ‡¶¨‡ßá‡¶∂ ‡¶Æ‡¶ú‡¶¨‡ßÅ‡¶§‡•§' : '‡¶Ü‡¶∞‡¶ì ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶Ø‡¶§‡ßç‡¶® ‡¶®‡¶ø‡¶® ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá‡¶∞‡•§')}`,
            [MeterCategory.Friendship]: score => `‡¶Ü‡¶™‡¶®‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶§‡ßç‡¶¨‡ßá‡¶∞ ‡¶∏‡ßç‡¶ï‡ßá‡¶≤: ${score}%! ü§ù ${score > 85 ? '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞‡¶æ ‡¶§‡ßã ‡¶è‡¶ï‡ßá‡¶¨‡¶æ‡¶∞‡ßá ‡¶π‡¶∞‡¶ø‡¶π‡¶∞ ‡¶Ü‡¶§‡ßç‡¶Æ‡¶æ!' : (score > 60 ? '‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶§‡ßç‡¶¨ ‡¶¨‡ßá‡¶∂ ‡¶≠‡¶æ‡¶≤‡ßã, ‡¶ö‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶®‡•§': '‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶§‡ßç‡¶¨‡ßá‡¶∞ ‡¶ö‡¶∞‡ßç‡¶ö‡¶æ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞‡•§')}`,
            [MeterCategory.Laziness]: score => `‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶≤‡¶∏‡¶§‡¶æ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞: ${score}%! üí§ ${score > 80 ? '‡¶Ü‡¶™‡¶®‡¶ø ‡¶§‡ßã ‡¶ï‡ßÅ‡¶Æ‡ßç‡¶≠‡¶ï‡¶∞‡ßç‡¶£‡ßá‡¶∞ ‡¶¨‡¶Ç‡¶∂‡¶ß‡¶∞!' : (score > 50 ? '‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Ü‡¶≤‡¶∏‡ßá‡¶Æ‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶≠‡¶æ‡¶≤‡ßã‡•§' : '‡¶Ü‡¶™‡¶®‡¶ø ‡¶ñ‡ßÅ‡¶¨‡¶á ‡¶™‡¶∞‡¶ø‡¶∂‡ßç‡¶∞‡¶Æ‡ßÄ!')}`,
            [MeterCategory.Mood]: score => `‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßÅ‡¶° ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞: ${score}%! üé® ${score > 75 ? '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶® ‡¶Ü‡¶ú ‡¶´‡ßÅ‡¶∞‡¶´‡ßÅ‡¶∞‡ßá!' : (score > 40 ? '‡¶Æ‡¶® ‡¶Æ‡ßã‡¶ü‡¶æ‡¶Æ‡ßÅ‡¶ü‡¶ø ‡¶≠‡¶æ‡¶≤‡ßã‡•§': '‡¶Æ‡¶®‡¶ü‡¶æ ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶≠‡¶æ‡¶≤‡ßã ‡¶ï‡¶∞‡ßÅ‡¶®‡•§')}`,
            [MeterCategory.Maturity]: score => `‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ö‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø ‡¶≤‡ßá‡¶≠‡ßá‡¶≤: ${score}%! ü§î ${score > 80 ? '‡¶Ü‡¶™‡¶®‡¶ø ‡¶¨‡ßü‡¶∏‡ßá‡¶∞ ‡¶ö‡ßá‡ßü‡ßá ‡¶Ö‡¶®‡ßá‡¶ï ‡¶¨‡ßá‡¶∂‡¶ø ‡¶™‡¶∞‡¶ø‡¶£‡¶§!' : (score > 50 ? '‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶™‡¶•‡ßá‡¶á ‡¶Ü‡¶õ‡ßá‡¶®‡•§': '‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶Ü‡¶∞‡¶ì ‡¶∂‡ßá‡¶ñ‡¶æ‡¶¨‡ßá‡•§')}`,
            [MeterCategory.Frustration]: score => `‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶π‡¶§‡¶æ‡¶∂‡¶æ‡¶∞ ‡¶≤‡ßá‡¶¨‡ßá‡¶≤: ${score}%! üòü ${score > 70 ? '‡¶Æ‡¶®‡ßá ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ñ‡ßÅ‡¶¨ ‡¶ï‡¶†‡¶ø‡¶® ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶™‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶õ‡ßá‡¶®‡•§' : (score > 40 ? '‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ü‡¶æ ‡¶ö‡¶æ‡¶™ ‡¶Ü‡¶õ‡ßá, ‡¶§‡¶¨‡ßá ‡¶†‡¶ø‡¶ï ‡¶π‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§': '‡¶Ü‡¶™‡¶®‡¶ø ‡¶¨‡ßá‡¶∂ ‡¶∂‡¶æ‡¶®‡ßç‡¶§ ‡¶Ü‡¶õ‡ßá‡¶®‡•§')}`,
            [MeterCategory.Foodie]: score => `‡¶Ü‡¶™‡¶®‡¶ø ${score}% ‡¶ñ‡¶æ‡¶¶‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡ßá‡¶Æ‡¶ø‡¶ï! üçî ${score > 85 ? '‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞‡¶á ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ!' : (score > 60 ? '‡¶Ü‡¶™‡¶®‡¶ø ‡¶ñ‡ßá‡¶§‡ßá ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡ßá‡¶®‡•§': '‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶¨‡ßá‡¶∂ ‡¶∏‡¶ö‡ßá‡¶§‡¶®‡•§')}`,
            [MeterCategory.Intelligence]: score => `‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßÅ‡¶¶‡ßç‡¶ß‡¶ø‡¶Æ‡¶§‡ßç‡¶§‡¶æ ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞: ${score}%! üß† ${score > 85 ? '‡¶Ü‡¶™‡¶®‡¶ø ‡¶§‡ßã ‡¶Ü‡¶á‡¶®‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶®‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡¶æ‡¶ï‡¶æ‡¶õ‡¶ø!' : (score > 60 ? '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶∏‡ßç‡¶§‡¶ø‡¶∑‡ßç‡¶ï ‡¶¨‡ßá‡¶∂ ‡¶ß‡¶æ‡¶∞‡¶æ‡¶≤‡ßã‡•§': '‡¶è‡¶ï‡¶ü‡ßÅ ‡¶≠‡¶æ‡¶¨‡¶≤‡ßá‡¶á ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§')}`,
            [MeterCategory.Creativity]: score => `‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßÉ‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤‡¶§‡¶æ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞: ${score}%! ‚ú® ${score > 85 ? '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶≤‡ßç‡¶™‡¶®‡¶æ‡¶∂‡¶ï‡ßç‡¶§‡¶ø ‡¶Ö‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£!' : (score > 60 ? '‡¶Ü‡¶™‡¶®‡¶ø ‡¶¨‡ßá‡¶∂ ‡¶∏‡ßÉ‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤‡•§': '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶ï‡¶ú‡¶® ‡¶∂‡¶ø‡¶≤‡ßç‡¶™‡ßÄ ‡¶≤‡ßÅ‡¶ï‡¶ø‡ßü‡ßá ‡¶Ü‡¶õ‡ßá‡•§')}`,
        };

        useEffect(() => {
          setSelectedCategory(initialCategory);
          resetForm();
        }, [initialCategory]);

        const handleCategoryChange = (e: React.ChangeEvent<HTMLSelectElement>) => {
          setSelectedCategory(e.target.value as MeterCategory);
          resetForm();
        };
        
        const resetForm = () => {
          setNames({ name1: '', name2: '' });
          setAnswers([]);
          setResult(null);
        }

        const handleAnswer = (qIndex: number, value: number) => {
          const newAnswers = [...answers];
          newAnswers[qIndex] = value;
          setAnswers(newAnswers);
        };
        
        const calculateResult = () => {
          const totalPossibleScore = (questionsData[selectedCategory as MeterCategory]?.length || 0) * 2;
          const userScore = answers.reduce((acc, curr) => acc + curr, 0);
          const percentage = Math.floor(((userScore + Math.random() * 2) / (totalPossibleScore + 1)) * 100);
          setResult(Math.min(100, Math.max(10, percentage)));
        };

        const isFormComplete = selectedCategory && 
          (![MeterCategory.Love, MeterCategory.Friendship].includes(selectedCategory) || (names.name1 && names.name2)) &&
          (answers.length === questionsData[selectedCategory]?.length && answers.every(a => a !== undefined));

        return (
          <div className="container mx-auto px-6 py-12">
            <div className="max-w-2xl mx-auto bg-white p-8 rounded-2xl shadow-xl">
              <AnimatePresence mode="wait">
                {result === null ? (
                  <motion.div
                    key="form"
                    initial={{ opacity: 0, x: -50 }}
                    animate={{ opacity: 1, x: 0 }}
                    exit={{ opacity: 0, x: 50 }}
                    transition={{ duration: 0.5 }}
                  >
                    <h1 className="text-3xl font-bold text-center mb-6">‡¶Ö‡¶®‡ßÅ‡¶≠‡ßÇ‡¶§‡¶ø ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®</h1>
                    <div className="mb-6">
                      <label className="block text-lg font-semibold mb-2" htmlFor="category-select">‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡ßÄ ‡¶Æ‡¶æ‡¶™‡¶§‡ßá ‡¶ö‡¶æ‡¶®?</label>
                      <select 
                        id="category-select" 
                        value={selectedCategory} 
                        onChange={handleCategoryChange}
                        className="w-full p-3 border border-gray-300 rounded-lg bg-gray-50 focus:ring-2 focus:ring-[#FF6B81] focus:border-transparent transition"
                      >
                        <option value="" disabled>‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                        {Object.values(MeterCategory).map(cat => <option key={cat} value={cat}>{cat}</option>)}
                      </select>
                    </div>

                    {selectedCategory && (
                      <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }}>
                        {[MeterCategory.Love, MeterCategory.Friendship].includes(selectedCategory) && (
                          <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                            <input type="text" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ" value={names.name1} onChange={e => setNames({...names, name1: e.target.value})} className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6C63FF]"/>
                            <input type="text" placeholder="‡¶Ö‡¶®‡ßç‡¶Ø‡¶ú‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ" value={names.name2} onChange={e => setNames({...names, name2: e.target.value})} className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6C63FF]"/>
                          </div>
                        )}

                        {questionsData[selectedCategory].map((q, qIndex) => (
                          <div key={qIndex} className="mb-6 p-4 bg-pink-50/50 rounded-lg">
                            <p className="font-semibold mb-3">{q.question}</p>
                            <div className="flex justify-around">
                              {q.options.map((opt, oIndex) => (
                                <label key={oIndex} className="flex items-center space-x-2 cursor-pointer">
                                  <input type="radio" name={`q${qIndex}`} checked={answers[qIndex] === oIndex} onChange={() => handleAnswer(qIndex, oIndex)} className="form-radio text-[#FF6B81] focus:ring-[#FF6B81]"/>
                                  <span>{opt}</span>
                                </label>
                              ))}
                            </div>
                          </div>
                        ))}

                        <motion.button 
                          onClick={calculateResult}
                          disabled={!isFormComplete}
                          whileHover={{ scale: isFormComplete ? 1.05 : 1 }}
                          className="w-full p-4 bg-gradient-to-r from-[#FF6B81] to-[#FFB6C1] text-white font-bold text-lg rounded-full shadow-lg transition disabled:bg-gray-400 disabled:cursor-not-allowed disabled:shadow-none"
                        >
                          ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                        </motion.button>
                      </motion.div>
                    )}
                  </motion.div>
                ) : (
                  <motion.div
                    key="result"
                    initial={{ opacity: 0, scale: 0.8 }}
                    animate={{ opacity: 1, scale: 1 }}
                    exit={{ opacity: 0, scale: 0.8 }}
                    transition={{ duration: 0.5 }}
                    className="text-center"
                  >
                    <h2 className="text-2xl font-bold mb-4">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡¶≤‡¶æ‡¶´‡¶≤</h2>
                    <div className="relative w-48 h-48 mx-auto mb-6">
                      <svg className="w-full h-full" viewBox="0 0 36 36">
                        <path
                          d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"
                          className="stroke-current text-gray-200" fill="none" strokeWidth="3.8" />
                        <motion.path
                          d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"
                          fill="none" strokeWidth="3.8" strokeDasharray={`${result}, 100`}
                          className="stroke-current text-[#FF6B81]"
                          initial={{ strokeDasharray: '0, 100' }}
                          animate={{ strokeDasharray: `${result}, 100` }}
                          transition={{ duration: 1.5, ease: 'easeInOut' }}
                        />
                      </svg>
                      <div className="absolute inset-0 flex items-center justify-center">
                        <motion.span
                          className="text-5xl font-bold text-[#FF6B81]"
                          initial={{ opacity: 0 }}
                          animate={{ opacity: 1 }}
                          transition={{ delay: 0.5, duration: 0.5 }}
                        >
                          {result}%
                        </motion.span>
                      </div>
                    </div>

                    <p className="text-xl text-gray-700 mb-8">{resultTexts[selectedCategory as MeterCategory](result)}</p>

                    <div className="flex justify-center space-x-4">
                      <button className="flex items-center px-6 py-2 bg-[#6C63FF] text-white font-semibold rounded-full shadow-md hover:bg-opacity-90 transition-all">
                        <FaShareNodes className="mr-2"/> ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
                      </button>
                      <button onClick={resetForm} className="flex items-center px-6 py-2 bg-gray-200 text-gray-700 font-semibold rounded-full hover:bg-gray-300 transition-all">
                        <FaArrowRotateRight className="mr-2"/> ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
                      </button>
                    </div>
                  </motion.div>
                )}
              </AnimatePresence>
            </div>
          </div>
        );
      };

      const PollPage: React.FC = () => {
        const [polls, setPolls] = useLocalStorage<Poll[]>('polls', []);
        const [votedPolls, setVotedPolls] = useLocalStorage<string[]>('votedPolls', []);
        const [showConfetti, setShowConfetti] = useState(false);

        const handleVote = (pollId: string, optionIndex: number) => {
          if (votedPolls.includes(pollId)) return;

          const newPolls = polls.map(poll => {
            if (poll.id === pollId) {
              const newOptions = [...poll.options];
              newOptions[optionIndex].votes += 1;
              return { ...poll, options: newOptions };
            }
            return poll;
          });

          setPolls(newPolls);
          setVotedPolls([...votedPolls, pollId]);
          
          setShowConfetti(true);
          setTimeout(() => setShowConfetti(false), 5000);
        };
        
        const PollCard: React.FC<{ poll: Poll, onVote: (pollId: string, optionIndex: number) => void, votedPolls: string[] }> = ({ poll, onVote, votedPolls }) => {
          const [selectedOption, setSelectedOption] = useState<number | null>(null);
          const [showResult, setShowResult] = useState(votedPolls.includes(poll.id));
          const COLORS = ['#FF6B81', '#6C63FF', '#FFD93D', '#4BC0C0', '#9966FF'];

          const totalVotes = poll.options.reduce((sum, opt) => sum + opt.votes, 0);

          const handleVoteClick = () => {
            if (selectedOption !== null) {
              onVote(poll.id, selectedOption);
              setShowResult(true);
            }
          };

          const chartData = poll.options.map(opt => ({ name: opt.text, votes: opt.votes }));

          return (
            <motion.div 
                layout
                initial={{ opacity: 0, y: 50 }}
                animate={{ opacity: 1, y: 0 }}
                exit={{ opacity: 0 }}
                className="bg-white p-8 rounded-2xl shadow-lg mb-8"
            >
              <h2 className="text-2xl font-bold mb-2">{poll.title}</h2>
              <p className="text-gray-500 mb-6">{poll.description || `‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶ó‡¶∞‡¶ø: ${poll.category}`}</p>

              <AnimatePresence mode="wait">
                {!showResult ? (
                  <motion.div key="vote" exit={{ opacity: 0, y: -20 }}>
                    <div className="space-y-4 mb-6">
                      {poll.options.map((option, index) => (
                        <label
                          key={index}
                          className={`block p-4 border-2 rounded-lg cursor-pointer transition-all ${
                            selectedOption === index ? 'border-[#6C63FF] bg-purple-50 shadow-inner' : 'border-gray-200 hover:border-purple-300'
                          }`}
                        >
                          <input
                            type="radio"
                            name={`poll-${poll.id}`}
                            className="hidden"
                            onChange={() => setSelectedOption(index)}
                          />
                          <span className="text-lg">{option.text}</span>
                        </label>
                      ))}
                    </div>
                    <motion.button
                      onClick={handleVoteClick}
                      disabled={selectedOption === null}
                      whileHover={{ scale: selectedOption !== null ? 1.05 : 1 }}
                      className="w-full p-3 bg-gradient-to-r from-[#FF6B81] to-[#FFB6C1] text-white font-bold rounded-full shadow-md disabled:bg-gray-400 disabled:cursor-not-allowed"
                    >
                      ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡¶®
                    </motion.button>
                  </motion.div>
                ) : (
                  <motion.div key="result" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }}>
                    <h3 className="text-xl font-semibold mb-4">‡¶´‡¶≤‡¶æ‡¶´‡¶≤</h3>
                    <div className="h-64 w-full">
                      <ResponsiveContainer width="100%" height="100%">
                        <BarChart data={chartData} layout="vertical" margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>
                          <XAxis type="number" hide />
                          <YAxis dataKey="name" type="category" width={80} tick={{ fill: '#4A5568' }}/>
                          <Tooltip cursor={{fill: 'rgba(238, 238, 238, 0.5)'}}/>
                          <Bar dataKey="votes" barSize={30} radius={[0, 10, 10, 0]}>
                            {chartData.map((entry, index) => (
                                <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />
                            ))}
                          </Bar>
                        </BarChart>
                      </ResponsiveContainer>
                    </div>
                    <p className="text-center mt-4 text-gray-600 font-semibold">‡¶Æ‡ßã‡¶ü ‡¶≠‡ßã‡¶ü: {totalVotes}</p>
                  </motion.div>
                )}
              </AnimatePresence>
            </motion.div>
          );
        };
        

        return (
          <div className="container mx-auto px-6 py-12">
            {showConfetti && <Confetti recycle={false} numberOfPieces={300}/>}
            <h1 className="text-4xl font-bold text-center mb-12">‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶≠‡ßã‡¶ü</h1>
            <div className="max-w-3xl mx-auto">
              {polls.length > 0 ? (
                polls.map(poll => (
                  <PollCard key={poll.id} poll={poll} onVote={handleVote} votedPolls={votedPolls} />
                ))
              ) : (
                <div className="text-center py-16 bg-white rounded-2xl shadow-md">
                  <p className="text-2xl text-gray-500">‡¶è‡¶ñ‡¶® ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶≠‡ßã‡¶ü ‡¶®‡ßá‡¶á‡•§</p>
                </div>
              )}
            </div>
          </div>
        );
      };
      
      const AdminPage: React.FC = () => {
        const [isLoggedIn, setIsLoggedIn] = useState(() => sessionStorage.getItem('isAdminLoggedIn') === 'true');
        const [password, setPassword] = useState('');
        const [error, setError] = useState('');

        const [polls, setPolls] = useLocalStorage<Poll[]>('polls', []);
        const [editingPollId, setEditingPollId] = useState<string | null>(null);
        const [newPoll, setNewPoll] = useState({
          title: '',
          description: '',
          options: ['', ''],
          category: '‡¶Æ‡¶ú‡¶æ',
          duration: 7,
        });
        
        const ADMIN_PASSWORD = "admin";

        useEffect(() => {
          sessionStorage.setItem('isAdminLoggedIn', String(isLoggedIn));
        }, [isLoggedIn]);

        const handleLogin = () => {
          if (password === ADMIN_PASSWORD) {
            setIsLoggedIn(true);
            setError('');
          } else {
            setError('‡¶≠‡ßÅ‡¶≤ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°!');
          }
        };
        
        const handleLogout = () => {
          setIsLoggedIn(false);
          sessionStorage.removeItem('isAdminLoggedIn');
        }

        const handleOptionChange = (index: number, value: string) => {
          const options = [...newPoll.options];
          options[index] = value;
          setNewPoll({ ...newPoll, options });
        };

        const addOption = () => {
          if (newPoll.options.length < 5) {
            setNewPoll({ ...newPoll, options: [...newPoll.options, ''] });
          }
        };
        
        const removeOption = (index: number) => {
          if (newPoll.options.length > 2) {
            const options = newPoll.options.filter((_, i) => i !== index);
            setNewPoll({ ...newPoll, options });
          }
        };
        
        const resetForm = () => {
          setEditingPollId(null);
          setNewPoll({ title: '', description: '', options: ['', ''], category: '‡¶Æ‡¶ú‡¶æ', duration: 7 });
        }

        const handleEdit = (poll: Poll) => {
          setEditingPollId(poll.id);
          setNewPoll({
            title: poll.title,
            description: poll.description || '',
            options: poll.options.map(o => o.text),
            category: poll.category,
            duration: poll.duration
          });
        }

        const handleSubmit = () => {
          if (!newPoll.title || !newPoll.options.every(opt => opt.trim() !== '')) {
              alert('Please fill out the title and all options.');
              return;
          }

          if (editingPollId) {
              setPolls(polls.map(p => p.id === editingPollId ? {
                  ...p,
                  title: newPoll.title,
                  description: newPoll.description,
                  options: newPoll.options.map((optText, index) => {
                      const oldOption = p.options[index];
                      return oldOption && oldOption.text === optText ? oldOption : { text: optText, votes: 0 };
                  }),
                  category: newPoll.category,
                  duration: newPoll.duration,
              } : p));
          } else {
              const pollToAdd: Poll = {
                  id: new Date().toISOString(),
                  title: newPoll.title,
                  description: newPoll.description,
                  options: newPoll.options.map(opt => ({ text: opt, votes: 0 })),
                  category: newPoll.category,
                  createdAt: Date.now(),
                  duration: newPoll.duration,
              };
              setPolls([pollToAdd, ...polls]);
          }
          resetForm();
        };

        const deletePoll = (id: string) => {
          if (window.confirm("‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶è‡¶á ‡¶™‡ßã‡¶≤‡¶ü‡¶ø ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")) {
              setPolls(polls.filter(poll => poll.id !== id));
          }
        }

        if (!isLoggedIn) {
          return (
            <div className="container mx-auto px-6 py-20 flex justify-center items-center" style={{minHeight: 'calc(100vh - 200px)'}}>
              <div className="w-full max-w-sm bg-white p-8 rounded-2xl shadow-xl">
                <h1 className="text-2xl font-bold text-center mb-6">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶á‡¶®</h1>
                <input
                  type="password"
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                  onKeyDown={(e) => e.key === 'Enter' && handleLogin()}
                  placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®"
                  className="w-full p-3 border border-gray-300 rounded-lg mb-4"
                />
                {error && <p className="text-red-500 text-center mb-4">{error}</p>}
                <button onClick={handleLogin} className="w-full p-3 bg-[#6C63FF] text-white font-bold rounded-full">
                  ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®
                </button>
              </div>
            </div>
          );
        }

        return (
          <div className="container mx-auto px-6 py-12">
            <div className="flex justify-between items-center mb-12 flex-wrap gap-4">
                  <h1 className="text-4xl font-bold">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</h1>
                  <button onClick={handleLogout} className="flex items-center px-4 py-2 bg-gray-600 text-white font-semibold rounded-full hover:bg-gray-700 transition-all text-sm sm:text-base">
                      <FaArrowRightFromBracket className="mr-2"/> ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü
                  </button>
              </div>
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-12">
              <div className="bg-white p-8 rounded-2xl shadow-lg">
                <h2 className="text-2xl font-bold mb-6">{editingPollId ? '‡¶™‡ßã‡¶≤ ‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®' : '‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡ßã‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®'}</h2>
                <div className="space-y-4">
                  <input type="text" placeholder="‡¶™‡ßã‡¶≤‡ßá‡¶∞ ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡ßü)" value={newPoll.title} onChange={e => setNewPoll({...newPoll, title: e.target.value})} className="w-full p-3 border rounded-lg"/>
                  <textarea placeholder="‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)" value={newPoll.description} onChange={e => setNewPoll({...newPoll, description: e.target.value})} className="w-full p-3 border rounded-lg h-24"/>
                  <div>
                    <label className="font-semibold">‡¶Ö‡¶™‡¶∂‡¶®‡¶ó‡ßÅ‡¶≤‡ßã</label>
                    {newPoll.options.map((opt, index) => (
                      <div key={index} className="flex items-center space-x-2 mt-2">
                        <input type="text" placeholder={`‡¶Ö‡¶™‡¶∂‡¶® ${index + 1}`} value={opt} onChange={e => handleOptionChange(index, e.target.value)} className="w-full p-2 border rounded-lg"/>
                        {newPoll.options.length > 2 && <button onClick={() => removeOption(index)} className="p-2 text-red-500 hover:bg-red-100 rounded-full"><FaTrash /></button>}
                      </div>
                    ))}
                    {newPoll.options.length < 5 && <button onClick={addOption} className="mt-2 flex items-center text-sm text-[#6C63FF] font-semibold"><FaPlus className="mr-1"/> ‡¶Ö‡¶™‡¶∂‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>}
                  </div>
                  <select value={newPoll.category} onChange={e => setNewPoll({...newPoll, category: e.target.value})} className="w-full p-3 border rounded-lg bg-white">
                    <option>‡¶∞‡¶æ‡¶ú‡¶®‡ßÄ‡¶§‡¶ø</option>
                    <option>‡¶∏‡¶Æ‡¶æ‡¶ú</option>
                    <option>‡¶ü‡ßç‡¶∞‡ßá‡¶®‡ßç‡¶°</option>
                    <option>‡¶Æ‡¶ú‡¶æ</option>
                  </select>
                  <input type="number" placeholder="‡¶∏‡¶Æ‡ßü‡¶ï‡¶æ‡¶≤ (‡¶¶‡¶ø‡¶®)" value={newPoll.duration} onChange={e => setNewPoll({...newPoll, duration: parseInt(e.target.value) || 0})} className="w-full p-3 border rounded-lg"/>
                  <div className="flex space-x-2">
                      <button onClick={handleSubmit} className="w-full p-3 bg-gradient-to-r from-[#FF6B81] to-[#FFB6C1] text-white font-bold rounded-full">{editingPollId ? '‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®' : '‡¶™‡ßã‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®'}</button>
                      {editingPollId && (
                        <button onClick={resetForm} className="w-1/2 p-3 bg-gray-200 text-gray-700 font-semibold rounded-full hover:bg-gray-300 transition-all">‡¶¨‡¶æ‡¶§‡¶ø‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                      )}
                  </div>
                </div>
              </div>

              <div className="bg-white p-8 rounded-2xl shadow-lg">
                <h2 className="text-2xl font-bold mb-6">‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶Æ‡¶æ‡¶® ‡¶™‡ßã‡¶≤‡¶∏‡¶Æ‡ßÇ‡¶π</h2>
                <div className="space-y-4 max-h-[32rem] overflow-y-auto pr-2">
                  {polls.length > 0 ? polls.map(poll => (
                      <div key={poll.id} className="p-4 border rounded-lg flex justify-between items-center bg-gray-50/50">
                          <div>
                              <h3 className="font-semibold">{poll.title}</h3>
                              <p className="text-sm text-gray-500">{poll.category} - ‡¶Æ‡ßã‡¶ü ‡¶≠‡ßã‡¶ü: {poll.options.reduce((a, b) => a + b.votes, 0)}</p>
                          </div>
                          <div className="flex items-center space-x-1">
                              <button onClick={() => handleEdit(poll)} className="p-2 text-blue-500 hover:bg-blue-100 rounded-full transition-colors"><FaPencil /></button>
                              <button onClick={() => deletePoll(poll.id)} className="p-2 text-red-500 hover:bg-red-100 rounded-full transition-colors"><FaTrash /></button>
                          </div>
                      </div>
                  )) : <p className="text-center text-gray-500 py-8">‡¶ï‡ßã‡¶®‡ßã ‡¶™‡ßã‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡¶®‡¶ø‡•§</p>}
                </div>
              </div>
            </div>
          </div>
        );
      };

      // ============= MAIN APP =============

      const App: React.FC = () => {
        return (
          <HashRouter>
            <div className="flex flex-col min-h-screen bg-gradient-to-br from-pink-50 to-purple-50 overflow-x-hidden">
              <Header />
              <main className="flex-grow">
                <Routes>
                  <Route path="/" element={<HomePage />} />
                  <Route path="/calculate" element={<CalculatePage />} />
                  <Route path="/poll" element={<PollPage />} />
                  <Route path="/admin" element={<AdminPage />} />
                </Routes>
              </main>
              <Footer />
            </div>
          </HashRouter>
        );
      };

      // ============= RENDER APP =============
      
      const rootElement = document.getElementById('root');
      if (!rootElement) {
        throw new Error("Could not find root element to mount to");
      }

      const root = ReactDOM.createRoot(rootElement);
      root.render(
        <StrictMode>
          <App />
        </StrictMode>
      );
    </script>
</body>
</html>
